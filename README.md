# Draw.io ファイル分割ツール

このツールは、複数ページを含むDraw.ioファイル（.drawio）を個別のページファイルに分割するためのNode.jsスクリプトです。

## 機能

- 複数ページを持つDraw.ioファイルを読み込み、各ページを独立したDrawioファイルとして保存します
- コマンドラインから入力ファイルのパスを指定できます
- 元のファイル名に基づいた出力フォルダに分割ファイルを保存します
- 各ページのファイル名はページ名に基づいています（不正な文字は自動的に置換されます）

## 必要条件

- Node.js がインストールされていること
- 必要なパッケージ: xmldom

## インストール

```bash
# パッケージをインストール
npm install
```

または

```bash
# 必要なパッケージを直接インストール
npm install xmldom
```

## 使用方法

### Node.jsスクリプトとして実行

コマンドラインから以下のように実行します:

```bash
node split_drawio.js <drawioファイルのパス>
```

例:

```bash
node split_drawio.js "問い合わせ対応業務フロー.drawio"
```

### 実行ファイル（.exe）として実行

Node.jsがインストールされていない環境でも、実行ファイルを使用できます:

```bash
drawiosplitter.exe <drawioファイルのパス>
```

例:

```bash
drawiosplitter.exe "問い合わせ対応業務フロー.drawio"
```

## 出力

実行すると、以下のような出力が得られます:

```
6ページのdiagramを見つけました。分割を開始します...
ページ 1/6: "目次" を保存しました: 問い合わせ対応業務フロー_pages\目次.drawio
ページ 2/6: "問合せ対応" を保存しました: 問い合わせ対応業務フロー_pages\問合せ対応.drawio
...
処理が完了しました。分割されたファイルは 問い合わせ対応業務フロー_pages に保存されました。
```

出力ファイルは元のファイル名に基づいたフォルダ（例: `[元ファイル名]_pages`）に保存されます。

## 注意事項

- ファイル名やページ名に不正な文字（`\ / : * ? " < > |` など）が含まれる場合、アンダースコア（`_`）に置換されます
- XMLのパース処理で問題が発生した場合は、エラーメッセージが表示されます

## ライセンス

ISC
